<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile -delixio</title>
    
    <!-- primary meta tags -->
    <meta name="title" content="Delixio = Where Flavor Meets Adventure!">
    <meta name="description" content="This is a Food ordering application">

    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500&family=DM+Serif+Display&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&family=Satisfy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anta&family=Archivo+Black&family=Dancing+Script:wght@400..700&family=Great+Vibes&family=Kaushan+Script&family=Madimi+One&family=Petit+Formal+Script&family=Satisfy&family=Xanh+Mono:ital@0;1&display=swap" rel="stylesheet">

    <!-- FOOTER ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-8bQfYZYe9k4x0sz3m81dyEkYR6P+n1gzru8UhS4OTlNhx+uhx7GtC+LX60X9ClZHDKl/B6X16Mg0Zu+t4Ug4Fg==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="profile.css">
    
    <script>

        // Script for retriving data from local storage

        function getUserInfo() {
            const userEmail = localStorage.getItem("userEmail");

            if (userEmail) {
                const userKey = userEmail;
                const userInfoString = localStorage.getItem(userKey);

                if (userInfoString) {
                    return JSON.parse(userInfoString);
                }
            }

            return null;
        }
    </script>

</head>
<body>
    
    <!-- HEADER -->
    <nav>
        <div class="logo">
            <a href="./home.html"><img src="./images/logo.png" alt="Delixio"></a>
        </div>
        <ul class="nav-links">
            <li><a href="./home.html">Home</a></li>
            <li class="dropdown1">
                <a href="#" class="dropbtn1">Menu</a>
                <div class="dropdown-content1">
                    <a class="drop" href="./menu.html"><i class="fas fa-list"></i>View Menu</a>
                    <a  class="drop" href="./Shop.html"><i class="fas fa-star"></i>Today's Special</a>
                </div>
            </li>
            <li><a href="./AboutUs.html">About Us</a></li>
            <li><a href="./contact.html">Contact</a></li>
            <li><a href="./Journal.html">Journal</a></li>
        </ul>
        <div class="cart-wrapper">
            <button class="cart-btn" onclick="showCart()">
                <img src="./images/shopping-cart1.png"/>
            </button>
            <div class="total-quantity" id="totalQuantityDisplay"></div>
        </div>
        <button class="reservation-btn"><a href="./Reservation.html">Reservation</a></button>
        <div class="profile-icon">
            <div class="dropdown">
                <button class="dropbtn"><img src="./images/profile.png" alt=""></button>
                <div class="dropdown-content">
                    <a href="./profile.html"><i class="fas fa-user"></i>View Profile</a>
                    <a href="./login.html"><i class="fas fa-sign-out-alt"></i>Logout</a>
                </div>
            </div>
        </div>
    </nav>

<div class="image-container"></div>
  

    <main>
        
        <article>

            <div class="userInfo-page-container">
                <div class="side-profile">
                    <div class="user-info" id="user-info-container">
                        <!-- <h1>Account Information</h1> -->
                        <!-- User information here -->
                        <!-- <div id="user-info"></div> -->

                    </div>
                </div>
                <div class="profile-details">
                    <form>
                      <h1>Basic Info:</h1>
                      <div class="form-group">
                          <label for="phone">Phone Number:</label>
                          <input type="text" id="phone" name="phone" placeholder="Enter your phone number" required>
                      </div>
                      <div class="form-group">
                          <label for="location">Location:</label>
                         
                          <input type="text" id="locationText" name="locationText" placeholder="enter your location">
                      </div>
                      <div class="form-group">
                          <label for="postalCode">Postal Code:</label>
                          <input type="text" id="postalCode" name="postalCode" placeholder="Enter your postal code" required>
                      </div>
                      <div class="profile-save-edit">
                      <button type="button" id="saveBtn" class="btn">Save</button>
                      <button type="button" id="editBtn" class="btn">Edit</button>
                      </div>
                  </form>
                  </div>
                
            </div>

        </article>

    </main>

    <!-- FOOTER -->
    <section class="footer-main">
        <footer class="footer">
    
            <div class="about-us-container">
        
                <div class="about-us-text">
        
                    <div class="about-firstcolumn">
                        <h2>Our Facilities</h2>
                        <ul>
                            <li>
                                <a href="./home.html">Home</a>
                            </li>
                            <li>
                                <a href="./AboutUs.html">About</a>
                            </li>
                            <li>
                                <a href="./menu.html">Menu</a>
                            </li>
                            <li>
                                <a href="./contact.html">Contact</a>
                            </li>
                            <li>
                                <a href="./Journal.html">Journal</a>
                            </li>
                            <li>
                                <a href="./Reservation.html">Reservation</a>
                            </li>
            
                        </ul>
                    </div>
        
                    <div class="about-secondcolumn">
                        <a href="./home.html" class="logo">
                            <img src="./images/logo.png" height="200px" alt="Delixio" class="logo-light">
                        </a>
                    </div>
        
                    <div class="about-thirdcolumn">
            
                        <h2>Contact Us</h2>
                        <ul>
                            <li>
                                <i class="fa-solid fa-mobile"></i>&emsp;
                                <span>Phone:</span>
                                &emsp;+919876543210
                            </li>
                            <li>
                                <i class="fa-solid fa-phone"></i>&emsp;
                                <span>Landline:</span>
                                &emsp;(011)-2xxx-xxxx
                            </li>
                            <li>
                                <i class="fa-solid fa-envelope"></i>&emsp;
                                <span>Email:</span>
                                &emsp;dishdiary123@gmail.com
                            </li>
                        </ul>
                    </div>
                
                </div> 
        
                <div class="follow-icons">
                        <div class="about-icon-container">
                            <ul>
                                <li class="instagram"><i class="fa-brands fa-instagram icon1 icon"></i></li>
                                <li class="twitter"><i class="fa-brands fa-twitter icon2 icon"></i></li>
                                <li class="youtube"><i class="fa-brands fa-youtube icon3 icon"></i></li>
                                <li class="facebook"><i class="fa-brands fa-facebook icon4 icon"></i></li>
                            </ul>
                        </div>
                    </div>
        
                
        
            </div>
        
        </footer>
    
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const phoneInput = document.getElementById("phone");
            const locationInput = document.getElementById("locationText");
            const postalCodeInput = document.getElementById("postalCode");
            const saveBtn = document.getElementById("saveBtn");
            const editBtn = document.getElementById("editBtn");
        
            // Function to save data to local storage
            function saveData() {
              
                localStorage.setItem("phone", phoneInput.value);
                localStorage.setItem("location", locationInput.value);
                localStorage.setItem("postalCode", postalCodeInput.value);
            }
        
            // Function to load data from local storage
            function loadData() {
              
                phoneInput.value = localStorage.getItem("phone");
                locationInput.value = localStorage.getItem("location");
                postalCodeInput.value = localStorage.getItem("postalCode");
            }
        
            // Load data when the page loads
            loadData();
        
            // Save data when Save button is clicked
            saveBtn.addEventListener("click", function() {
                saveData();
                loadData();
            });
        
            // Show input fields for editing when Edit button is clicked
            editBtn.addEventListener("click", function() {
               
                phoneInput.focus();
            });
        });
        </script>

    
    <script>
            // Script for showing data retrived from local storage
            
            document.addEventListener("DOMContentLoaded", function () {
                const userInfoContainer = document.getElementById('user-info-container');
                const userInfo = getUserInfo();
                if (userInfo) {
                    userInfoContainer.innerHTML = `
                        <div>
                            <div class="profilePhoto-and-name">
                            <img src="./images/profileimage3.png" alt="profile_image" id="profile-image" width=100px><br>
                        <h1>Hello,<I> ${userInfo.name}!</I></h1>
                        <p>Email: ${userInfo.email}</p>
                        <p>Password: ${userInfo.password}</p>
                        </div>
        
                            
                    `;
                } else {
                    userInfoContainer.innerHTML = "<p>User information not found.</p>";
                }
            });
    </script>
    <script>
        function showCart() {
          // Redirect to the desired page
          window.location.href = "exp2.html";
        }
      
      </script>
      <script>
        window.onload = function() {
            updateTotalQuantity();
        };
        // Function to add product to cart
        function addToCart(itemName, itemImage, itemPrice) {
            var cartItems = JSON.parse(localStorage.getItem('cart')) || [];
      
            var existingItemIndex = cartItems.findIndex(item => item.name === itemName);
            if (existingItemIndex !== -1) {
                cartItems[existingItemIndex].quantity++;
            } else {
                cartItems.push({ name: itemName, quantity: 1, image: itemImage, price:itemPrice });
            }
      
            localStorage.setItem('cart', JSON.stringify(cartItems));
            updateTotalQuantity();
      
        }
    
        function updateTotalQuantity() {
        var cartItems = JSON.parse(localStorage.getItem('cart')) || [];
        var totalQuantity = 0;
        for (var i = 0; i < cartItems.length; i++) {
            totalQuantity += cartItems[i].quantity;
        }
        // Assuming you have a DOM element with id 'totalQuantityDisplay' to display the total quantity
        document.getElementById('totalQuantityDisplay').innerText = totalQuantity;
    }
      
        </script>

</body>
</html>

